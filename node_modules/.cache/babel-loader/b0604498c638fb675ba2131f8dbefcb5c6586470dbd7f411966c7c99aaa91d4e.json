{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Row,Col,Button,Alert}from'react-bootstrap';import{useParams,useNavigate}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{selectSeats}from'../redux/bookingSlice';import'../styles/SeatSelection.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SeatSelectionPage=()=>{const{showId}=useParams();const navigate=useNavigate();const dispatch=useDispatch();const selectedSeats=useSelector(state=>state.booking.selectedSeats);const user=useSelector(state=>state.auth.user);const[showDetails,setShowDetails]=useState(null);const[seatLayout,setSeatLayout]=useState(null);const[loading,setLoading]=useState(true);const[selectedSeatsLocal,setSelectedSeatsLocal]=useState([]);useEffect(()=>{if(!user){alert('Please login first');navigate('/login');return;}fetchShowDetails();},[showId,user,navigate]);const fetchShowDetails=async()=>{try{// Mock show details\nconst mockShows={'show_1':{_id:'show_1',movieId:'1',theaterId:'theater_1',startTime:new Date(Date.now()+2*60*60*1000),availableSeats:30,totalSeats:48,price:200,screen:{rows:['A','B','C','D','E','F'],columns:8,seatConfiguration:generateMockSeats(6,8)}},'show_2':{_id:'show_2',movieId:'1',theaterId:'theater_1',startTime:new Date(Date.now()+6*60*60*1000),availableSeats:42,totalSeats:48,price:200,screen:{rows:['A','B','C','D','E','F'],columns:8,seatConfiguration:generateMockSeats(6,8,['A2','B3','C4'])}},'show_3':{_id:'show_3',movieId:'1',theaterId:'theater_2',startTime:new Date(Date.now()+3*60*60*1000),availableSeats:55,totalSeats:72,price:250,screen:{rows:['A','B','C','D','E','F','G','H','I'],columns:8,seatConfiguration:generateMockSeats(9,8)}},'show_4':{_id:'show_4',movieId:'2',theaterId:'theater_1',startTime:new Date(Date.now()+4*60*60*1000),availableSeats:45,totalSeats:48,price:200,screen:{rows:['A','B','C','D','E','F'],columns:8,seatConfiguration:generateMockSeats(6,8)}}};const show=mockShows[showId];if(show){setShowDetails(show);setSeatLayout(show.screen);setLoading(false);}}catch(error){console.error('Error fetching show details:',error);setLoading(false);}};const generateMockSeats=function(rows,cols){let bookedSeats=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];const config={};const rowLabels=['A','B','C','D','E','F','G','H','I'];for(let i=0;i<rows;i++){for(let j=0;j<cols;j++){const seatId=\"\".concat(rowLabels[i]).concat(j+1);config[seatId]={row:rowLabels[i],column:j+1,type:i<2?'premium':'standard',price:i<2?300:200,available:!bookedSeats.includes(seatId)};}}return config;};const toggleSeatSelection=(seatId,seat)=>{if(!seat.available)return;if(selectedSeatsLocal.includes(seatId)){setSelectedSeatsLocal(selectedSeatsLocal.filter(s=>s!==seatId));}else{setSelectedSeatsLocal([...selectedSeatsLocal,seatId]);}};const handleBooking=()=>{if(selectedSeatsLocal.length===0){alert('Please select at least one seat');return;}const totalAmount=selectedSeatsLocal.reduce((sum,seatId)=>{return sum+seatLayout.seatConfiguration[seatId].price;},0);dispatch(selectSeats(selectedSeatsLocal));// Navigate to confirmation with booking details\nnavigate('/booking-confirmation',{state:{showId:showDetails._id,movieId:showDetails.movieId,theaterId:showDetails.theaterId,seats:selectedSeatsLocal,totalAmount,showTime:showDetails.startTime}});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-5\",children:\"Loading...\"});}const totalPrice=selectedSeatsLocal.reduce((sum,seatId)=>{return sum+seatLayout.seatConfiguration[seatId].price;},0);return/*#__PURE__*/_jsxs(Container,{className:\"mt-5\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Select Your Seats\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Show Time: \",showDetails.startTime.toLocaleString()]}),/*#__PURE__*/_jsxs(Row,{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(Col,{md:8,children:[/*#__PURE__*/_jsx(\"div\",{className:\"screen\",children:\"SCREEN\"}),/*#__PURE__*/_jsx(\"div\",{className:\"seats-container mt-4\",children:seatLayout.rows.map((row,rowIndex)=>/*#__PURE__*/_jsxs(\"div\",{className:\"seat-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"row-label\",children:row}),/*#__PURE__*/_jsx(\"div\",{className:\"seats\",children:Array.from({length:seatLayout.columns}).map((_,colIndex)=>{const seatId=\"\".concat(row).concat(colIndex+1);const seat=seatLayout.seatConfiguration[seatId];const isSelected=selectedSeatsLocal.includes(seatId);const isBooked=!seat.available;return/*#__PURE__*/_jsx(\"button\",{className:\"seat \".concat(seat.type,\" \").concat(isSelected?'selected':'',\" \").concat(isBooked?'booked':''),onClick:()=>toggleSeatSelection(seatId,seat),disabled:isBooked,title:\"\".concat(seatId,\" - \\u20B9\").concat(seat.price),children:seatId},seatId);})})]},row))}),/*#__PURE__*/_jsxs(\"div\",{className:\"legend mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"seat standard\"}),\" Standard (\\u20B9200)\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"seat premium\"}),\" Premium (\\u20B9300)\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"seat booked\"}),\" Booked\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"seat selected\"}),\" Selected\"]})]})]}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsxs(\"div\",{className:\"booking-summary p-3 border rounded\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Booking Summary\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Selected Seats:\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-primary\",children:selectedSeatsLocal.length>0?selectedSeatsLocal.join(', '):'No seats selected'}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Price per Seat:\"}),\" \\u20B9200 - \\u20B9300\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Number of Seats:\"}),\" \",selectedSeatsLocal.length]}),/*#__PURE__*/_jsxs(\"h5\",{className:\"mt-3\",children:[\"Total Amount: \\u20B9\",totalPrice]}),/*#__PURE__*/_jsx(Button,{variant:\"success\",className:\"w-100 mt-3\",onClick:handleBooking,disabled:selectedSeatsLocal.length===0,children:\"Proceed to Payment\"})]})})]})]});};export default SeatSelectionPage;","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","Button","Alert","useParams","useNavigate","useDispatch","useSelector","selectSeats","jsx","_jsx","jsxs","_jsxs","SeatSelectionPage","showId","navigate","dispatch","selectedSeats","state","booking","user","auth","showDetails","setShowDetails","seatLayout","setSeatLayout","loading","setLoading","selectedSeatsLocal","setSelectedSeatsLocal","alert","fetchShowDetails","mockShows","_id","movieId","theaterId","startTime","Date","now","availableSeats","totalSeats","price","screen","rows","columns","seatConfiguration","generateMockSeats","show","error","console","cols","bookedSeats","arguments","length","undefined","config","rowLabels","i","j","seatId","concat","row","column","type","available","includes","toggleSeatSelection","seat","filter","s","handleBooking","totalAmount","reduce","sum","seats","showTime","className","children","totalPrice","toLocaleString","md","map","rowIndex","Array","from","_","colIndex","isSelected","isBooked","onClick","disabled","title","join","variant"],"sources":["C:/Gayathri/bookmyshow/frontend/src/pages/SeatSelectionPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Container, Row, Col, Button, Alert } from 'react-bootstrap';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { selectSeats } from '../redux/bookingSlice';\r\nimport '../styles/SeatSelection.css';\r\n\r\nconst SeatSelectionPage = () => {\r\n  const { showId } = useParams();\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const selectedSeats = useSelector(state => state.booking.selectedSeats);\r\n  const user = useSelector(state => state.auth.user);\r\n  \r\n  const [showDetails, setShowDetails] = useState(null);\r\n  const [seatLayout, setSeatLayout] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedSeatsLocal, setSelectedSeatsLocal] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      alert('Please login first');\r\n      navigate('/login');\r\n      return;\r\n    }\r\n    fetchShowDetails();\r\n  }, [showId, user, navigate]);\r\n\r\n  const fetchShowDetails = async () => {\r\n    try {\r\n      // Mock show details\r\n      const mockShows = {\r\n        'show_1': {\r\n          _id: 'show_1',\r\n          movieId: '1',\r\n          theaterId: 'theater_1',\r\n          startTime: new Date(Date.now() + 2 * 60 * 60 * 1000),\r\n          availableSeats: 30,\r\n          totalSeats: 48,\r\n          price: 200,\r\n          screen: {\r\n            rows: ['A', 'B', 'C', 'D', 'E', 'F'],\r\n            columns: 8,\r\n            seatConfiguration: generateMockSeats(6, 8)\r\n          }\r\n        },\r\n        'show_2': {\r\n          _id: 'show_2',\r\n          movieId: '1',\r\n          theaterId: 'theater_1',\r\n          startTime: new Date(Date.now() + 6 * 60 * 60 * 1000),\r\n          availableSeats: 42,\r\n          totalSeats: 48,\r\n          price: 200,\r\n          screen: {\r\n            rows: ['A', 'B', 'C', 'D', 'E', 'F'],\r\n            columns: 8,\r\n            seatConfiguration: generateMockSeats(6, 8, ['A2', 'B3', 'C4'])\r\n          }\r\n        },\r\n        'show_3': {\r\n          _id: 'show_3',\r\n          movieId: '1',\r\n          theaterId: 'theater_2',\r\n          startTime: new Date(Date.now() + 3 * 60 * 60 * 1000),\r\n          availableSeats: 55,\r\n          totalSeats: 72,\r\n          price: 250,\r\n          screen: {\r\n            rows: ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I'],\r\n            columns: 8,\r\n            seatConfiguration: generateMockSeats(9, 8)\r\n          }\r\n        },\r\n        'show_4': {\r\n          _id: 'show_4',\r\n          movieId: '2',\r\n          theaterId: 'theater_1',\r\n          startTime: new Date(Date.now() + 4 * 60 * 60 * 1000),\r\n          availableSeats: 45,\r\n          totalSeats: 48,\r\n          price: 200,\r\n          screen: {\r\n            rows: ['A', 'B', 'C', 'D', 'E', 'F'],\r\n            columns: 8,\r\n            seatConfiguration: generateMockSeats(6, 8)\r\n          }\r\n        }\r\n      };\r\n\r\n      const show = mockShows[showId];\r\n      if (show) {\r\n        setShowDetails(show);\r\n        setSeatLayout(show.screen);\r\n        setLoading(false);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching show details:', error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const generateMockSeats = (rows, cols, bookedSeats = []) => {\r\n    const config = {};\r\n    const rowLabels = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I'];\r\n    \r\n    for (let i = 0; i < rows; i++) {\r\n      for (let j = 0; j < cols; j++) {\r\n        const seatId = `${rowLabels[i]}${j + 1}`;\r\n        config[seatId] = {\r\n          row: rowLabels[i],\r\n          column: j + 1,\r\n          type: i < 2 ? 'premium' : 'standard',\r\n          price: i < 2 ? 300 : 200,\r\n          available: !bookedSeats.includes(seatId)\r\n        };\r\n      }\r\n    }\r\n    return config;\r\n  };\r\n\r\n  const toggleSeatSelection = (seatId, seat) => {\r\n    if (!seat.available) return;\r\n    \r\n    if (selectedSeatsLocal.includes(seatId)) {\r\n      setSelectedSeatsLocal(selectedSeatsLocal.filter(s => s !== seatId));\r\n    } else {\r\n      setSelectedSeatsLocal([...selectedSeatsLocal, seatId]);\r\n    }\r\n  };\r\n\r\n  const handleBooking = () => {\r\n    if (selectedSeatsLocal.length === 0) {\r\n      alert('Please select at least one seat');\r\n      return;\r\n    }\r\n\r\n    const totalAmount = selectedSeatsLocal.reduce((sum, seatId) => {\r\n      return sum + seatLayout.seatConfiguration[seatId].price;\r\n    }, 0);\r\n\r\n    dispatch(selectSeats(selectedSeatsLocal));\r\n    \r\n    // Navigate to confirmation with booking details\r\n    navigate('/booking-confirmation', {\r\n      state: {\r\n        showId: showDetails._id,\r\n        movieId: showDetails.movieId,\r\n        theaterId: showDetails.theaterId,\r\n        seats: selectedSeatsLocal,\r\n        totalAmount,\r\n        showTime: showDetails.startTime\r\n      }\r\n    });\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"text-center mt-5\">Loading...</div>;\r\n  }\r\n\r\n  const totalPrice = selectedSeatsLocal.reduce((sum, seatId) => {\r\n    return sum + seatLayout.seatConfiguration[seatId].price;\r\n  }, 0);\r\n\r\n  return (\r\n    <Container className=\"mt-5\">\r\n      <h2>Select Your Seats</h2>\r\n      <p>Show Time: {showDetails.startTime.toLocaleString()}</p>\r\n      \r\n      <Row className=\"mb-4\">\r\n        <Col md={8}>\r\n          <div className=\"screen\">SCREEN</div>\r\n          \r\n          <div className=\"seats-container mt-4\">\r\n            {seatLayout.rows.map((row, rowIndex) => (\r\n              <div key={row} className=\"seat-row\">\r\n                <span className=\"row-label\">{row}</span>\r\n                <div className=\"seats\">\r\n                  {Array.from({ length: seatLayout.columns }).map((_, colIndex) => {\r\n                    const seatId = `${row}${colIndex + 1}`;\r\n                    const seat = seatLayout.seatConfiguration[seatId];\r\n                    const isSelected = selectedSeatsLocal.includes(seatId);\r\n                    const isBooked = !seat.available;\r\n\r\n                    return (\r\n                      <button\r\n                        key={seatId}\r\n                        className={`seat ${seat.type} ${isSelected ? 'selected' : ''} ${isBooked ? 'booked' : ''}`}\r\n                        onClick={() => toggleSeatSelection(seatId, seat)}\r\n                        disabled={isBooked}\r\n                        title={`${seatId} - ₹${seat.price}`}\r\n                      >\r\n                        {seatId}\r\n                      </button>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          <div className=\"legend mt-4\">\r\n            <div><span className=\"seat standard\"></span> Standard (₹200)</div>\r\n            <div><span className=\"seat premium\"></span> Premium (₹300)</div>\r\n            <div><span className=\"seat booked\"></span> Booked</div>\r\n            <div><span className=\"seat selected\"></span> Selected</div>\r\n          </div>\r\n        </Col>\r\n\r\n        <Col md={4}>\r\n          <div className=\"booking-summary p-3 border rounded\">\r\n            <h5>Booking Summary</h5>\r\n            <hr />\r\n            <p><strong>Selected Seats:</strong></p>\r\n            <p className=\"text-primary\">\r\n              {selectedSeatsLocal.length > 0 ? selectedSeatsLocal.join(', ') : 'No seats selected'}\r\n            </p>\r\n            <hr />\r\n            <p><strong>Price per Seat:</strong> ₹200 - ₹300</p>\r\n            <p><strong>Number of Seats:</strong> {selectedSeatsLocal.length}</p>\r\n            <h5 className=\"mt-3\">Total Amount: ₹{totalPrice}</h5>\r\n            <Button\r\n              variant=\"success\"\r\n              className=\"w-100 mt-3\"\r\n              onClick={handleBooking}\r\n              disabled={selectedSeatsLocal.length === 0}\r\n            >\r\n              Proceed to Payment\r\n            </Button>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default SeatSelectionPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}